# 泛用语言分类方法

1. 非形式语言
1. 形式语言（乔姆斯基谱系）
    - 0型，无限制文法。定义清楚即可
    - 1型，上下文相关
    - 2型，上下文无关
    - 3型，正则文法。也称为正规文法，写作正则文法的原因是其可以被正则表达式表达出来。

# 产生式

> 有很多种，大体结构和表达能力都是相近的。此处采用BNF范式

1. 语法结构名。用`<>`括起来表示。分为：
    - 基础结构（终结符）。用`"xxx"`表示终结符
    - 复合结构（非终结符）。需要用其他语法结构定义
1. 可以有括号
1. `*`表示重复多次，`|`表示或，`+`表示至少出现一次

# 通过产生式理解乔姆斯基谱系

***这一部分不太理解***

> 最常见的是，每个语言会自己定义一个产生式的书写方式。

# 现代语言的分类

> 现代语言的设计并不是贴合乔姆斯基谱系的各种分类设计的。*可以认为大部分编程语言的主体都是上下文无关文法。*

- C++中的`*`的作用，取决于前面的标识符是否是类型。（已不是形式语言，需要从语义判断）

## 语言的分类

根据语言的用途，可以分成：
1. 数据描述语言
1. 编程语言

根据语言的表达方式，可以分成：
1. 声明式语言。只告诉结果。数据描述语言和函数式语言。
1. 命令型语言。告诉达成结果的过程。

# 编程语言的性质

1. 图灵完备性。
    - 命令式，图灵机模型。
        - goto
        - if和while
    - 声明式，邱奇提出的lambda演算

1. 动态和静态。
1. 类型系统。
    - 动态类型系统和静态类型系统。Java的反射决定它是半动态半静态的。
    - 强类型和弱类型。类型转换发生的方式。强类型的类型转换不会默认发生。
    - 复合类型。结构体，函数签名（函数作为参数传递时，包含参数类型和返回值类型两个部分）
    - 子类型
    - 泛型。[泛型的协变和逆变](https://docs.microsoft.com/zh-cn/dotnet/standard/generics/covariance-and-contravariance)
        > 协变和逆变都是术语，前者指能够使用比原始指定的派生类型的派生程度更大（更具体的）的类型，后者指能够使用比原始指定的派生类型的派生程度更小（不太具体的）的类型。 

# 一般命令式语言的设计方式

结构层级：
1. 原子级（Atom），关键字、直接量、变量名等基本单位。以及用于让代码更易读的空白和换行。
1. 表达式（Expression），由原子级的单位通过运算符和其他符号相连接构成
1. 语句（Statement），表达式加上标识符、关键字、符号，形成的特定的结构。比如if、while等。**到本层级已经可以达到图灵完备的水平**
1. 结构（Structure），Function、Class，组织代码用。
1. 程序（Program）。程序模块。

> 课程会从语法入手，主要讲语义和运行时。

# JS原子级别

1. Number。IEEE 754 双精度浮点型。详见[浮点型的二进制表示](https://www.ruanyifeng.com/blog/2010/06/ieee_floating-point_representation.html)
    - 双精度浮点型
        - 1位符号位。0正1负。
        - 11位指数。要减掉1023才是真实的指数。
        - 52位有效数字。缺省以1开头。
    - 语法
        - 小数点前后有数字都可以省略。`.0`和`0.`都是合法的。`0.toString()`会因为`0.`被解析成数字而出错
        - 可用指数。`1e3`
        - 可用二进制`0b`、十进制`0o`、十六进制`0x`
1. String
    - 语法：
        - `"abc"`，`'abc'`等效
        - 反引号。可以回车，可以用变量。
        - 正则表示，**不理解**；
    - 字符集
        - ASCII、Unicode、UCS（另一个组织）
        - 国标码，GB2312、GBK（GB13000）、GB18030
        - ISO-8859系列，西欧
        - BIG5，台湾大五码
    - 编码方式
        - UTF8、UTF16指默认用8位或16位。表示不下则需要使用到**控制位**。
1. Boolean
1. Object
    - 对象
        - 标识符。即使内容一样也是唯一的，常使用地址标识。
        - 状态。
        - 行为。对应**自身状态的改变**
    - 类
        - 归类。可以多继承。
        - 分类。单继承。
    - 原型
        - 找一个原型，对象仅需描述和原型的区别即可。
    - JS中的对象
        - 对象是属性的集合。JS的函数可放进属性里，所以JS的属性可以描述状态和行为。
        - 原型链。从原型属性上找，直到原型为Null
        - Symbol做属性名。如果不传入Symbol变量，无法访问。可以实现权限控制。
    - 语法
        - `[]`、`{}`、`Object.defineProperty`
        - `Object.create()`、`Object.setPrototypeOf`、`Object.getPrototypeOf`，基于原型的面向对象的描述方式
        - 其他的我不用。
        - 特殊对象
            - Function
                - typeof，返回Function
                - 带`[[call]]`行为的对象
                - 没有`setPrototypeOf`这个方法，可以调，但无效。
        - Host Object
            - window、setTimeOut
            - 带`[[]]`的属性，JS中访问不到，但运行时是有的
1. Null，有值，为空。
    - typeof()返回object。属于明确不会被修正的历史包袱。
1. Undefined。
    - 表示未定义过，所以不该用其对变量赋值。
    - 不是关键字，是一个全局变量。可以重新赋值。可以用`void`表达式安全的获取`undefined`的值，常用`void 0`;
1. Symbol。
    - 可以生成唯一的标识。
    - 可用于Object的属性名。
